"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_utili-34a797"],{54059:(e,t,r)=>{r.d(t,{Z:()=>i});function i({appendQuery:e,retainScrollPosition:t,returnTarget:r}){window.dispatchEvent(new CustomEvent("blackbird_monolith_append_and_focus_input",{detail:{appendQuery:e,retainScrollPosition:t,returnTarget:r}}))}},3708:(e,t,r)=>{r.d(t,{V3:()=>d,_y:()=>s,wk:()=>l});var i=r(81115),o=r(28311);let n={cursorNavigationHopWordLeft:{hotkey:"Alt+ArrowLeft,Ctrl+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationHopWordRight:{hotkey:"Alt+ArrowRight,Ctrl+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationTopOfPage:{hotkey:"Meta+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationBottomOfPage:{hotkey:"Meta+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationEnd:{hotkey:"End,Meta+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"]},cursorNavigationHome:{hotkey:"Home,Meta+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"]},cursorNavigationPageUp:{hotkey:"PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"]},cursorNavigationPageDown:{hotkey:"PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"]},cursorNavigationArrowDown:{hotkey:"ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"]},cursorNavigationArrowUp:{hotkey:"ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"]},cursorNavigationArrowLeft:{hotkey:"ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"]},cursorNavigationArrowRight:{hotkey:"ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"]},cursorNavigationShiftHopWordLeft:{hotkey:"Alt+Shift+ArrowLeft,Ctrl+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftHopWordRight:{hotkey:"Alt+Shift+ArrowRight,Ctrl+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationShiftTopOfPage:{hotkey:"Meta+Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftBottomOfPage:{hotkey:"Meta+Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftEnd:{hotkey:"Shift+End,Meta+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"],modifierRequired:!0},cursorNavigationShiftHome:{hotkey:"Shift+Home,Meta+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"],modifierRequired:!0},cursorNavigationShiftPageUp:{hotkey:"Shift+PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"],modifierRequired:!0},cursorNavigationShiftPageDown:{hotkey:"Shift+PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"],modifierRequired:!0},cursorNavigationShiftArrowDown:{hotkey:"Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftArrowUp:{hotkey:"Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftArrowLeft:{hotkey:"Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftArrowRight:{hotkey:"Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationHighlightLine:{text:"J",hotkey:"Shift+J",useWhileBlobFocused:!0,noModifierHotkey:["J"],modifierRequired:!0},cursorNavigationGoLineUp:{hotkey:"Ctrl+p",useWhileBlobFocused:!0,noModifierHotkey:["p"],modifierRequired:!0},cursorNavigationOpenHelpDialog:{hotkey:"Alt+F1,Control+Alt+\u02D9,Control+Alt+h",useWhileBlobFocused:!0,noModifierHotkey:["F1","h","\u02D9"],modifierRequired:!0},cursorNavigationGoLineDown:{hotkey:"Ctrl+n",useWhileBlobFocused:!0,noModifierHotkey:["n"],modifierRequired:!0},cursorNavigationEnter:{text:"\u2318 Enter",hotkey:"Meta+Enter",useWhileBlobFocused:!0,noModifierHotkey:["Enter"],modifierRequired:!0},cursorNavigationSpace:{hotkey:" ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!1},cursorNavigationShiftSpace:{hotkey:"Shift+ ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!0},expandAndFocusLineContextMenu:{text:"Shift Alt C",hotkey:"Alt+Shift+C,Alt+Shift+\xc7",useWhileBlobFocused:!0,noModifierHotkey:["C"],modifierRequired:!0},copyFilePathShortcut:{text:"\u2318 shift .",hotkey:"Meta+Shift+>",useWhileBlobFocused:!0,noModifierHotkey:["."],modifierRequired:!0},copyPermalinkShortcut:{text:"\u2318 shift ,",hotkey:"Meta+Shift+<",useWhileBlobFocused:!0,noModifierHotkey:[","],modifierRequired:!0},copyRawContentShortcut:{text:"\u2318 shift c",hotkey:"Meta+Shift+C",useWhileBlobFocused:!0,noModifierHotkey:["c"],modifierRequired:!0},downloadRawContentShortcut:{text:"\u2318 shift s",hotkey:"Meta+Shift+S",useWhileBlobFocused:!0,noModifierHotkey:["s"],modifierRequired:!0},editFileShortcut:{hotkey:"e,Shift+E",useWhileBlobFocused:!0,noModifierHotkey:["e","E"]},goToLineShortcut:{text:"l",hotkey:"l,Shift+L",ariaKeyShortcuts:"l",useWhileBlobFocused:!0,noModifierHotkey:["l","L"]},alternativeGoToLineShortcut:{hotkey:"Mod+Alt+g",ariaKeyShortcuts:"Mod+Alt+g",useWhileBlobFocused:!0,noModifierHotkey:["g","G"]},findInFileShortcut:{hotkey:"Meta+f, F3",text:"\u2318 f",ariaKeyShortcuts:"Meta+F",useWhileBlobFocused:!0,noModifierHotkey:["f","F3"],modifierRequired:!0},findFilesShortcut:{hotkey:"t,Shift+T",useWhileBlobFocused:!0,noModifierHotkey:["t","T"]},findSelectionShortcut:{hotkey:"Meta+e",useWhileBlobFocused:!0,noModifierHotkey:["e"],modifierRequired:!0},findNextShortcut:{hotkey:"Mod+g"},findPrevShortcut:{hotkey:"Mod+Shift+G"},openWithGitHubDevShortcut:{hotkey:"., Meta+Shift+/",useWhileBlobFocused:!0,noModifierHotkey:["."]},openWithGitHubDevInNewWindowShortcut:{hotkey:"Shift+.,Shift+>,>",useWhileBlobFocused:!0,noModifierHotkey:[">"]},permalinkShortcut:{hotkey:"y,Shift+Y",useWhileBlobFocused:!0,noModifierHotkey:["y","Y"]},searchShortcut:{hotkey:"/",useWhileBlobFocused:!0,noModifierHotkey:["/"]},selectAllShortcut:{hotkey:"Meta+a",useWhileBlobFocused:!0,noModifierHotkey:["a"],modifierRequired:!0},selectEditTabShortcut:{hotkey:"Mod+Shift+P"},submitCommitDialogShortcut:{hotkey:"Mod+Enter"},refSelectorShortcut:{hotkey:"w",text:"w",useWhileBlobFocused:!0,noModifierHotkey:["w"]},escapeRightClickMenu:{hotkey:"Escape",useWhileBlobFocused:!0,noModifierHotkey:["Escape"]},toggleFocusedPaneShortcut:{hotkey:"Meta+F6,Meta+Shift+F6",useWhileBlobFocused:!0,noModifierHotkey:["F6"],modifierRequired:!0},toggleSymbolsShortcut:{hotkey:"Meta+i",useWhileBlobFocused:!0,noModifierHotkey:["i"],modifierRequired:!0},toggleTreeShortcut:{hotkey:"Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"],modifierRequired:!0},viewBlameShortcut:{hotkey:"b,Shift+B,Meta+/ Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"]},viewCodeShortcut:{hotkey:"Meta+/ Meta+c",useWhileBlobFocused:!0,modifierRequired:!0},viewPreviewShortcut:{hotkey:"Meta+/ Meta+p"},viewRawContentShortcut:{text:"\u2318 / \u2318 r",hotkey:"Meta+/ Meta+r",useWhileBlobFocused:!0,noModifierHotkey:["r"],modifierRequired:!0},findSymbolShortcut:{hotkey:"r,Shift+R",useWhileBlobFocused:!0,noModifierHotkey:["r","R"],modifierRequired:!1}},a=new Map;function l(){let e=(0,o.X)(["mac"]),[t]=(0,i.I)(()=>!1,!0,[]),r=0;if(e?r=1:t||(r=2),!a.has(r)){var l,s;let i=n;e||t||(i=Object.keys(l=i).reduce((e,t)=>{let r=l[t];return e[t]={hotkey:r.hotkey?.replace(/Meta/g,"Control"),text:r.text?.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"),ariaKeyShortcuts:r.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:r.useWhileBlobFocused,modifierRequired:r.modifierRequired,noModifierHotkey:r.noModifierHotkey},e},{})),t&&(i=Object.keys(s=i).reduce((e,t)=>{let r=s[t];return e[t]={hotkey:void 0,text:r.text?.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"),ariaKeyShortcuts:r.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:r.useWhileBlobFocused,modifierRequired:r.modifierRequired,noModifierHotkey:r.noModifierHotkey},e},{})),a.set(r,i)}return a.get(r)}function s(){let e=l();return Object.keys(e).reduce((t,r)=>{let i=e[r];if(i.useWhileBlobFocused&&i.noModifierHotkey&&i.modifierRequired)for(let e of i.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}function d(){let e=l();return Object.keys(e).reduce((t,r)=>{let i=e[r];if(i.useWhileBlobFocused&&i.noModifierHotkey&&!i.modifierRequired)for(let e of i.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}},23259:(e,t,r)=>{r.d(t,{p:()=>o});var i=r(96540);function o(e){let t=(0,i.useRef)([]);for(let r of t.current)if(e===r||function e(t,r){if(t===r)return!0;if("object"!=typeof t||typeof t!=typeof r||!t||!r)return!1;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],r[i]))return!1;return!0}let i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(let o of i)if(!e(t[o],r[o]))return!1;return!0}(r,e))return r;return t.current.unshift(e),t.current.length>5&&t.current.pop(),e}},14169:(e,t,r)=>{r.d(t,{T:()=>c});var i=r(48799),o=r(93743),n=r(93843),a=r(36619),l=r(80171),s=r(96540),d=r(55991);function c(){let{sendAnalyticsEvent:e}=(0,a.s)(),t=function(){let e=function(){let e=(0,i.t)(),t=(0,d.i)();return(0,s.useMemo)(()=>({react_app:"code-view",repository_id:e.id,repository_nwo:`${e.ownerLogin}/${e.name}`,repository_public:e.public,repository_is_fork:e.isFork,actor_id:t?.id,actor_login:t?.login}),[e,t])}(),t=(0,i.t)(),r=(0,o.yH8)(o.tTz,{owner:t.ownerLogin,repo:t.name});return(0,s.useCallback)((t,i,o)=>{let n={target:t,interaction:i,context:o,...e,url:window.location.href,user_agent:window.navigator.userAgent,browser_width:window.innerWidth,browser_languages:window.navigator.languages.join(",")};(0,l.lS)(r,{method:"POST",body:n})},[e,r])}(),r=(0,n.u)("code_nav_ui_events");return{sendRepoClickEvent:(0,s.useCallback)((i,o={})=>{e("repository.click",i,o),r&&t(i,"click",o)},[e,t,r]),sendRepoKeyDownEvent:(0,s.useCallback)((i,o={})=>{e("repository.keydown",i,o),r&&t(i,"keydown",o)},[e,t,r]),sendStats:(0,s.useCallback)((i,o={})=>{e(i,"",o),r&&t(i,"stats",o)},[e,t,r]),sendMarketplaceActionEvent:(0,s.useCallback)((t,r={})=>{e("marketplace.action.click",t,r)},[e])}}},86181:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(81729),o=r(48799),n=r(93743),a=r(81115),l=r(96540);function s(){let e=(0,o.t)(),{path:t,action:r,refInfo:s}=(0,i.eu)(),[d]=(0,a.I)(()=>!1,!0,[]);function c(e){return e?`?${e}`:""}function u(e){return d?"":void 0===e?window.location.hash:e?`#${e}`:""}return{getItemUrl:l.useCallback(t=>(0,n.IO9)({repo:e,commitish:s.name,action:"directory"===t.contentType?"tree":"blob",path:t.path}),[e.ownerLogin,e.name,s.name]),getUrl(i={}){let o=(0,n.IO9)({repo:e,commitish:i.commitish||s.name,action:i.action||r,path:i.path||t})+function({params:e,hash:t}){return c(e)+u(t)}(i);return i.absolute?new URL(o,window.location.origin).href:o},createPermalink(i={}){let o=(0,n.IO9)({repo:e,commitish:s.currentOid,action:i.action||r,path:i.path||t})+function({params:e,hash:t}){return c(e)+u(t)}(i);return i.absolute?new URL(o,window.location.origin).href:o},isCurrentPagePermalink:()=>!d&&s.name===s.currentOid&&window.location.pathname.includes(s.currentOid)}}},25829:(e,t,r)=>{r.d(t,{E:()=>i});let i={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}}},66256:(e,t,r)=>{r.d(t,{z:()=>WebWorker});let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){try{this.worker=new Worker(e)}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){this.terminated=!1,this.job=e}}},98073:(e,t,r)=>{function i(e){return"blob"in e}function o(e){return i(e)&&"blame"in e}function n(e){return"deleteInfo"in e&&"webCommitInfo"in e}function a(e){return"editInfo"in e&&"webCommitInfo"in e}r.d(t,{fP:()=>l,KR:()=>o,mM:()=>i,iS:()=>n,di:()=>a,Hf:()=>s});let l={README:"readme",CODE_OF_CONDUCT:"code_of_conduct",LICENSE:"license",SECURITY:"security"};function s(e){return"tree"in e}},15331:(e,t,r)=>{function i(e){return o(e)[0]}function o(e){let t=[];for(let r of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[i,o]=r.trim().split("=");e===i&&void 0!==o&&t.push({key:i,value:o})}return t}function n(e,t,r=null,i=!1,o="lax"){let a=document.domain;if(null==a)throw Error("Unable to get document domain");a.endsWith(".github.com")&&(a="github.com");let l="https:"===location.protocol?"; secure":"",s=r?`; expires=${r}`:"";!1===i&&(a=`.${a}`);try{document.cookie=`${e}=${t}; path=/; domain=${a}${s}${l}; samesite=${o}`}catch{}}function a(e,t=!1){let r=document.domain;if(null==r)throw Error("Unable to get document domain");r.endsWith(".github.com")&&(r="github.com");let i=new Date(Date.now()-1).toUTCString(),o="https:"===location.protocol?"; secure":"",n=`; expires=${i}`;!1===t&&(r=`.${r}`);try{document.cookie=`${e}=''; path=/; domain=${r}${n}${o}`}catch{}}r.d(t,{OR:()=>o,Ri:()=>i,TV:()=>n,Yj:()=>a})},9853:(e,t,r)=>{r.d(t,{C6:()=>o,hs:()=>a,mF:()=>l,wh:()=>i,xP:()=>n});let i={explain:"explain",conversation:"conversation",suggest:"suggest",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request",actionsAgent:"actions-agent"},o=["exception","filtered","publicCode","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],n=["bing-search","codesearch","semanticsearch","lexicalsearch","kb-search","pathsearch","show-symbol-definition","getissue","getprcommits","getcommit","getrelease","getrepo","getdiff","get-diff-by-range","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getpullrequest","getalert","planskill","get-github-data","support-search"],a={Experiments:"experiements",Prompt:"prompt",None:"none"},l={Unlicensed:"unlicensed",LicensedFull:"licensed_full",LicensedLimited:"licensed_limited"}},18571:(e,t,r)=>{function i(e){return`line-${e}`}function o(e,t,r){return`${e}${"left"===t?"L":"R"}${r}`}function n(e){return"DELETION"===e?"left":"right"}function a(e,t=!1,r=!1){if(r)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function l(e){let t=0;if(e)for(let r of e)t=Math.max(t,r?.left??0,r?.right??0);return Math.max(8*t.toString().length+20,40).toString()}r.d(t,{IQ:()=>o,Sq:()=>i,XU:()=>n,c7:()=>l,gK:()=>a})},90408:(e,t,r)=>{r.d(t,{Jg:()=>d,nq:()=>u,uP:()=>f.u,zl:()=>h.z,$e:()=>g,P3:()=>p,wj:()=>x,l4:()=>C,Qe:()=>b,Ah:()=>j});var i=r(74848),o=r(20053),n=r(77175),a=r(18571);let l=e=>{let{dragging:t,isHighlighted:r,isLeftColumn:l,colSpan:s,line:d,lineAnchor:c}=e,u=d.html,f="";return["ADDITION","DELETION"].includes(d.type)&&["+","-"].includes(u[0])&&(f=u[0],u=u.slice(1)),(0,i.jsx)("td",{className:(0,o.$)("diff-text-cell",{"border-left color-border-accent-emphasis":t&&r,"border-right":l&&"HUNK"!==d.type}),colSpan:s,id:c?(0,a.Sq)(c):void 0,style:{backgroundColor:(0,a.gK)(d.type,!1,r)},children:(0,i.jsxs)("code",{"data-code-marker":f,className:(0,o.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===d.type,deletion:"DELETION"===d.type}),children:[e.lineChild,(0,i.jsx)(n.mo,{className:(0,o.$)("diff-text-inner",{"color-fg-muted":"HUNK"===d.type}),html:u,style:{marginLeft:"CONTEXT"===d.type?"-7px":void 0}})]})})};try{l.displayName||(l.displayName="DiffText")}catch{}let s=({ariaLabel:e,children:t,hasExpanderButton:r,lineType:n,colSpan:l,interactiveProps:s,isHighlighted:d,...c})=>{let u=(0,i.jsx)("code",{className:"pr-2",children:t});return s&&(u=(0,i.jsx)("button",{className:"diff-line-number-button",...s,"aria-label":e,children:u})),(0,i.jsx)("td",{"aria-label":s?void 0:e,"data-line-number":!0,className:(0,o.$)("diff-line-number",{"has-expander":r,clickable:!!s}),colSpan:l||1,style:{backgroundColor:(0,a.gK)(n,!0,d)},...c,children:u})};try{s.displayName||(s.displayName="LineNumber")}catch{}let d=({dragging:e,isHighlighted:t,isLeftColumn:r,isSplit:o,lineAnchor:n,line:a,lineChild:d,onLineNumberClick:c})=>{let u="CONTEXT"===a.type||"INJECTED_CONTEXT"===a.type,f="ADDITION"!==a.type,h=f||!o,m="DELETION"!==a.type,p=m&&!u||!o,y=o&&u?r?a.left:a.right:a.left;return(0,i.jsxs)(i.Fragment,{children:[h&&(0,i.jsx)(s,{ariaLabel:`Line ${f?a.left?.toString():a.right?.toString()}`,lineType:a.type,interactiveProps:c?{onClick:c}:null,isHighlighted:t,children:f&&y}),p&&(0,i.jsx)(s,{ariaLabel:`Line ${m?a.right?.toString():a.left?.toString()}`,lineType:a.type,interactiveProps:c?{onClick:c}:null,isHighlighted:t,children:m&&a.right}),(0,i.jsx)(l,{dragging:e,isHighlighted:t,isLeftColumn:r,line:a,lineAnchor:n,lineChild:d})]})};try{d.displayName||(d.displayName="DiffLinePart")}catch{}var c=r(75177);function u(){return(0,i.jsx)(c.A,{"aria-hidden":"true",as:"svg",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",sx:{bottom:"0 !important",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"84px",position:"absolute",width:"320px"},children:(0,i.jsxs)("defs",{children:[(0,i.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,i.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),(0,i.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,i.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,i.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,i.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,i.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,i.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,i.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})})}try{u.displayName||(u.displayName="DiffPlaceholder")}catch{}var f=r(78293),h=r(76193),m=r(38621);function p({currentLine:e,hunkButton:t,isLeftColumn:r,isSplit:o}){return o&&!r?null:(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)(s,{colSpan:o?1:2,hasExpanderButton:!0,lineType:e.type,children:t}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{lineType:e.type,children:(0,i.jsx)(m.KebabHorizontalIcon,{})}),!o&&(0,i.jsx)(s,{lineType:e.type,children:(0,i.jsx)(m.KebabHorizontalIcon,{})})]}),(0,i.jsx)(l,{isHighlighted:!1,isLeftColumn:!0,colSpan:o?3:void 0,line:e})]})}try{p.displayName||(p.displayName="HunkHeaderDiffLine")}catch{}function y(){return(0,i.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,i.jsx)(m.KebabHorizontalIcon,{})})}try{y.displayName||(y.displayName="HunkKebabIcon")}catch{}function g({isLeftColumn:e}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{lineType:"EMPTY"}),(0,i.jsx)("td",{className:(0,o.$)("empty-diff-line",{"border-right":e}),colSpan:1})]})}try{g.displayName||(g.displayName="EmptyDiffLine")}catch{}function x(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("thead",{className:"sr-only",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"Original file line number"}),(0,i.jsx)("th",{scope:"col",children:"Original file line"}),(0,i.jsx)("th",{scope:"col",children:"Diff line number"}),(0,i.jsx)("th",{scope:"col",children:"Diff line change"})]})}),(0,i.jsxs)("colgroup",{children:[(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{}),(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{})]}),(0,i.jsx)("tbody",{children:e.children})]})}try{x.displayName||(x.displayName="SplitDiffTable")}catch{}function b(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("thead",{className:"sr-only",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"Original file line number"}),(0,i.jsx)("th",{scope:"col",children:"Diff line number"}),(0,i.jsx)("th",{scope:"col",children:"Diff line change"})]})}),(0,i.jsxs)("colgroup",{children:[(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{width:e.lineWidth}),(0,i.jsx)("col",{width:"100%"})]}),(0,i.jsx)("tbody",{children:e.children})]})}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let w={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf"};function k({line:e,children:t}){return(0,i.jsx)("td",{className:w.diffLineNumber,style:{backgroundColor:(0,a.gK)(e.type,!0),textAlign:"center"},children:(0,i.jsx)("code",{children:t})})}function v({line:e}){return(0,i.jsx)("td",{colSpan:4,className:w.diffHunkCell,valign:"top",children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[(0,i.jsx)(y,{}),(0,i.jsx)("code",{className:w.diffHunkText,children:(0,i.jsx)(n.mo,{className:(0,o.$)(w.diffTextInner,"color-fg-muted"),html:e.html})})]})})}function N({line:e}){let t="HUNK"===e.type,r="ADDITION"!==e.type,l="DELETION"!==e.type,s="ADDITION"===e.type?"+":"DELETION"===e.type?"-":void 0;return(0,i.jsxs)("tr",{children:[t&&(0,i.jsx)(v,{line:e}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k,{line:e,children:r&&e.left}),(0,i.jsx)(k,{line:e,children:l&&e.right}),(0,i.jsx)("td",{className:w.diffTextCell,style:{backgroundColor:(0,a.gK)(e.type,!1)},children:(0,i.jsxs)("code",{className:(0,o.$)("ADDITION"===e.type&&w.syntaxHighlightedAdditionLine,"DELETION"===e.type&&w.syntaxHighlightedDeletionLine),children:[!!s&&(0,i.jsx)("span",{className:w.diffTextMarker,children:s}),(0,i.jsx)(n.mo,{className:w.diffTextInner,html:e.html,style:{backgroundColor:(0,a.gK)(e.type,!1)}})]})})]})]})}function C({sx:e,lines:t,lineWidth:r,tabSize:o}){let n=t.map((e,t)=>(0,i.jsx)(N,{line:e,tabSize:o},t));return(0,i.jsx)(c.A,{as:"table",className:"tab-size","data-tab-size":o,sx:{borderTop:0,borderBottom:0,borderLeft:1,borderRight:1,borderStyle:"solid",borderColor:"border.muted",...e},children:(0,i.jsx)(b,{lineWidth:r,children:n})})}try{k.displayName||(k.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{N.displayName||(N.displayName="UnifiedDiffRow")}catch{}try{C.displayName||(C.displayName="UnifiedDiffLines")}catch{}function S(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function j({startDiffSide:e,endDiffSide:t,originalStartLine:r,originalEndLine:i}){return e&&t&&"number"==typeof r&&"number"==typeof i?0===r&&1===i&&e===t?"-1 to +1":e===t&&r===i?`${S(e)}${r}`:`${S(e)}${r} to ${S(t)}${i}`:""}},70239:(e,t,r)=>{r.d(t,{D:()=>n});var i=r(38719),o=r(89539);function n(e){if(!o.XC)return;let t=o.XC.querySelector("title"),r=o.XC.createElement("title");r.textContent=e,t?t.textContent!==e&&(t.replaceWith(r),(0,i.i)(e)):(o.XC.head.appendChild(r),(0,i.i)(e))}},94123:(e,t,r)=>{r.d(t,{U:()=>n});let i=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let r=t.getPropertyValue(e);return"auto"===r||"scroll"===r})},o=(e,t)=>e&&null!==e.parentNode?o(e.parentNode,t.concat([e])):t;function n(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of o(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&i(t))return t;return document.scrollingElement||document.documentElement}}},27900:(e,t,r)=>{r.d(t,{Nq:()=>$,H:()=>p,c2:()=>el,Uy:()=>U,qn:()=>ey});var i=r(74848),o=r(32397),n=r(3708),a=r(99793),l=r(81115),s=r(38621),d=r(55847),c=r(20053),u=r(96540);let f={expandButton:"ExpandFileTreeButton-module__expandButton--gL4is",filesButtonBreakpoint:"ExpandFileTreeButton-module__filesButtonBreakpoint--WfX9t"},h=u.forwardRef(({expanded:e,onToggleExpanded:t,className:r,ariaControls:u,textAreaId:h,useFilesButtonBreakpoint:m=!0,variant:p,getTooltipDirection:y},g)=>{let{toggleTreeShortcut:x}=(0,n.wk)(),[b]=(0,l.I)(()=>!1,!0,[]),w=y?.(e)??"se";return(0,i.jsxs)(i.Fragment,{children:[m&&(!e||b)&&(0,i.jsx)(d.Q,{"aria-label":"Expand file tree",leadingVisual:s.ArrowLeftIcon,"data-hotkey":x.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:g,onClick:t,variant:p??"invisible",sx:{color:"fg.muted",px:2,display:"none","@media screen and (max-width: 768px)":{display:"block"}},children:"Files"}),(0,i.jsx)(a.L,{dataHotkey:x.hotkey,className:(0,c.$)({[r??""]:!0,"position-relative":!0,[f.expandButton]:!0,[f.filesButtonBreakpoint]:m&&(!e||b)}),expanded:e,alignment:"left",ariaLabel:e?"Collapse file tree":"Expand file tree",tooltipDirection:w,testid:"file-tree-button",ariaControls:u,ref:g,variant:p,onToggleExpanded:t}),(0,i.jsx)(o._,{buttonFocusId:h,buttonHotkey:x.hotkey,onButtonClick:t,onlyAddHotkeyScopeButton:!0})]})});h.displayName="ExpandFileTreeButton";var m=r(14169);function p({inputRef:e,onFindFilesShortcut:t,textAreaId:r}){let{sendRepoKeyDownEvent:a}=(0,m.T)(),{findFilesShortcut:l}=(0,n.wk)();return(0,i.jsx)(o._,{buttonFocusId:r,buttonHotkey:l.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),a("GO_TO_FILE")}})}try{p.displayName||(p.displayName="FindFilesShortcut")}catch{}var y=r(29829),g=r(66396),x=r(57463),b=r(47431),w=r(86181),k=r(84091),v=r(93743),N=r(15091),C=r(13619),S=r(63097),j=r(80171),R=r(69676),F=r(75177),E=r(14616),A=r(87330),T=r(93653),I=r(47413),M=r(30729),H=r(27104);let L=(0,u.createContext)({knownFolders:new Map,dispatchKnownFolders:()=>{}});try{L.displayName||(L.displayName="FileTreeContext")}catch{}var D=r(81729),B=r(2583),W=r(41783),_=r(72731),q=r(94227),P=r(30595);let O=(0,u.createContext)({});function $({children:e}){let t=(0,u.useRef)(!1),r=(0,u.useRef)(!1),o=(0,u.useRef)(!0),n=(0,u.useCallback)(e=>{t.current=e},[]),a=(0,u.useCallback)(e=>{r.current=e},[]),l=(0,u.useCallback)(e=>{o.current=e},[]),s=(0,u.useMemo)(()=>({expandAllFolders:t,refreshTree:r,shouldFetchFolders:o,setExpandAllFolders:n,setRefreshTree:a,setShouldFetchFolders:l}),[n,a,l]);return(0,i.jsx)(O.Provider,{value:s,children:e})}function U(){return(0,u.useContext)(O)}try{O.displayName||(O.displayName="FileTreeControlContext")}catch{}try{$.displayName||($.displayName="FileTreeControlProvider")}catch{}var G=r(65556);function z(e,t,r){let i=[];for(let o of t)if(o.startsWith(e)){let t=o.slice(e.length+1),n=t.indexOf("/"),a=n>0?t.slice(0,n):t,l=`${e}/${a}`;if(r&&r.some(e=>e.path===l))continue;let s={items:[],data:{contentType:l===o?"file":"directory",name:a,path:l,isClientOnly:!0}};i.push(s)}return i}function K(e,t,r){e.data.name=e.data.name.slice(e.data.name.lastIndexOf("/")+1,e.data.name.length);let i=t.name.slice(0,t.name.lastIndexOf("/")),o=i.indexOf("/")>-1,n={path:t.path.slice(0,t.path.lastIndexOf("/")),contentType:t.contentType,name:i,hasSimplifiedPath:o},a={items:[e],data:n};return(r.set(n.path,a),o)?K(a,{...n},r):a}function V(e,t,r,i){if(!e)return{newRootItems:r,rootItemsUpdated:!1};let o=!!e[""]&&Y("",t,r,e[""].items);for(let o of(i?.(r),Object.keys(e).sort()))if(o){let r=t.get(o);r&&(Y(o,t,r.items,e[o].items,i),r.data.totalCount=e[o].totalCount)}return{newRootItems:r,rootItemsUpdated:o}}function Y(e,t,r,i,o){let n=!1;for(let a of i){let i=e?`${e}/${a.name}`:a.name;if(!t.get(i)){let e={items:[],data:{...a}};if(t.set(i,e),a.hasSimplifiedPath){let i=K(e,a,t),l=r.findIndex(e=>e.data.path===i.data.path);-1!==l?i.items.length>r[l].items.length&&(r[l]=i,n=!0):(r.push(i),o?.(r))}else r.push(e),o?.(r)}}return n}function X({isActive:e,file:t,onItemSelected:r,getItemUrl:o,selectedItemRef:n,navigate:a,onRenderRow:l,getFileTrailingVisual:d,getFileIcon:c}){let{sendRepoClickEvent:f}=(0,m.T)(),h=u.useRef(null),p=(0,W.Z)({focusRowRef:h,mouseRowRef:h}),y="submodule"===t.data.contentType,g=d?.(t.data),x=u.useCallback(i=>{y?(i.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):i.metaKey||i.ctrlKey||1===i.button?(window.open(o(t.data),"_blank"),i.preventDefault()):e?i.preventDefault():(r?.(),f("FILES_TREE.ITEM",{item_path:t.data.path}),a(o(t.data)),i.stopPropagation())},[t.data,o,e,y,a,r,f]);return l?.(),(0,i.jsxs)(q.G.Item,{ref:h,onSelect:x,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,i.jsx)(q.G.LeadingVisual,{children:c?c(t.data):y?(0,i.jsx)(s.FileSubmoduleIcon,{}):(0,i.jsx)(s.FileIcon,{})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{ref:n,style:{color:y?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:t.data.name}),p&&(0,i.jsx)(B.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:h,"aria-label":t.data.name,open:!0,direction:"ne"})]}),!!g?.screenReaderText&&(0,i.jsx)("span",{className:"sr-only",children:g.screenReaderText}),!!g?.trailingVisual&&(0,i.jsx)(q.G.TrailingVisual,{children:g.trailingVisual})]})}let Z=u.memo(X);function J({clientOnlyFilePaths:e,directory:t,isActive:r,isAncestorOfActive:o,leadingPath:n="",onItemSelected:a,dispatchKnownFolders:l,getItemUrl:s,getFetchUrl:d,selectedItemRef:c,navigate:f,onRenderRow:h,getFileTrailingVisual:p,getFileIcon:y,navigateOnClick:g=!0}){let{expandAllFolders:x,shouldFetchFolders:b}=U(),[w,k]=(0,u.useState)(x?.current||o),{sendRepoClickEvent:v}=(0,m.T)(),N=u.useRef(null),C=u.useRef(null),S=(0,W.Z)({focusRowRef:C,mouseRowRef:N}),[R,F,E,A,T,I,M]=function(e,t,r){let[i,o]=u.useState(e.items),[n,a]=u.useState(e.data.totalCount||0),[l,s]=u.useState(!1),[d,c]=u.useState(!1),{safeSetTimeout:f}=(0,G.A)();u.useEffect(()=>{o(e.items)},[e.items]),u.useEffect(()=>{void 0!==e.data.totalCount&&a(e.data.totalCount)},[e.data.totalCount]);let h=u.useCallback(()=>{c(!1)},[]),m=u.useCallback((e,t)=>{let r=e||[...i];o(r.slice(0,100)),f(()=>{o(r),void 0!==t&&a(t)},1)},[i,f]);return[u.useCallback(async i=>{let n=new Map;if(e.data.isClientOnly){if(i){let r=z(e.data.path,i);for(let e of r)n.set(e.data.path,e);t({type:"add",folders:n,processingTime:0}),r.length>100?m(r,r.length):(o(r),a(r.length))}}else{let l=r(e.data);c(!1),s(!0);let d=Date.now(),u=await (0,j.lS)(`${l}?noancestors=1`);try{if(u.ok){let r=await u.json(),l=r.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===r.payload.tree.items.length};return(n.set(e.path,t),e.hasSimplifiedPath)?K(t,e,n):t});if(i){let t=e.data.path,o=z(t,i,r.payload.tree.items);for(let e of(l.push(...o),o))n.set(e.data.path,e)}t({type:"add",folders:n,processingTime:Date.now()-d}),e.items=l,e.data.totalCount=r.payload.tree.totalCount,l.length>100?m(l,r.payload.tree.totalCount):(o(l),a(r.payload.tree.totalCount))}else c(!0)}catch{c(!0)}}s(!1)},[r,e,t,m]),m,i,l,d,h,n]}(t,l,d),H=M-E.length,L=n?`${n}/`:"";(0,u.useEffect)(()=>{x?.current&&!w&&k(!0)},[t,x,w]);let D=u.useCallback(i=>{x?.current&&(x.current=!1),!i||w||A||T||(t.items.length>100?F():0!==t.items.length||r||o||b?.current===!1||R(e)),i!==w&&k(i)},[x,w,A,T,t.items.length,r,o,b,F,R,e]),_=u.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&g?(window.open(s(t.data),"_blank"),e.preventDefault()):r?e.preventDefault():(a?.(),v("FILES_TREE.ITEM",{item_path:t.data.path}),g?f(s(t.data)):D?.(!w),e.stopPropagation())},[t.data,s,r,w,f,g,a,D,v]);u.useEffect(()=>{o&&!w&&D?.(!0)},[o]),u.useEffect(()=>{0===t.items.length&&w?D?.(!1):!w&&t.autoExpand&&D?.(!0)},[t.items.length]);let P=u.useCallback(e=>{c&&r&&c(e),N.current=e},[c,r]);return 1===t.items.length&&"directory"===t.items[0].data.contentType?(0,i.jsx)(et,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:L+t.data.name,inheritsActive:r,dispatchKnownFolders:l,onItemSelected:a,selectedItemRef:c,getItemUrl:s,directoryNavigateOnClick:g,getFileTrailingVisual:p,getFileIcon:y}):(h?.(),(0,i.jsxs)(q.G.Item,{ref:C,expanded:w,onExpandedChange:D,current:r,onSelect:_,id:`${t.data.path}-item`,containIntrinsicSize:r?void 0:"auto 2rem",children:[(0,i.jsx)(q.G.LeadingVisual,{children:(0,i.jsx)(q.G.DirectoryIcon,{})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{ref:P,children:[L,t.data.name]}),S&&(0,i.jsx)(B.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:C,"aria-label":`${L}${t.data.name}`,open:!0,direction:"ne"})]}),(0,i.jsx)(q.G.SubTree,{state:A?"loading":T?"error":"done",children:T?(0,i.jsx)(q.G.ErrorDialog,{onRetry:R,onDismiss:I,children:"There was an error loading the folder contents."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(et,{clientOnlyFilePaths:e,directoryItems:E,dispatchKnownFolders:l,onItemSelected:a,selectedItemRef:c,getItemUrl:s,directoryNavigateOnClick:g,getFileTrailingVisual:p,getFileIcon:y}),H>0&&(0,i.jsx)(ei,{message:`${H} entries not shown`})]})})]}))}let Q=u.memo(J);function ee({clientOnlyFilePaths:e,directoryItems:t,leadingPath:r,inheritsActive:o,onItemSelected:n,dispatchKnownFolders:a,selectedItemRef:l,onRenderRow:s,getItemUrl:d,getFileTrailingVisual:c,getFileIcon:f,directoryNavigateOnClick:h=!0}){let{path:m}=(0,D.eu)(),p=(0,w.Z)(),y=(0,_.Z)(),g=u.useRef(y);return(0,i.jsx)(i.Fragment,{children:t.map(t=>{let u=m===t.data.path,y=u||m.startsWith(`${t.data.path}/`);return"directory"===t.data.contentType?(0,i.jsx)(Q,{clientOnlyFilePaths:e,isActive:o||u,isAncestorOfActive:y,onItemSelected:n,leadingPath:r,directory:t,dispatchKnownFolders:a,getItemUrl:d,getFetchUrl:p.getItemUrl,selectedItemRef:y?l:void 0,navigate:g.current,onRenderRow:s,navigateOnClick:h,getFileTrailingVisual:c,getFileIcon:f,itemCount:t.items.length},t.data.name):(0,i.jsx)(Z,{onItemSelected:n,file:t,isActive:u,getItemUrl:d,selectedItemRef:u?l:void 0,navigate:g.current,onRenderRow:s,getFileTrailingVisual:c,getFileIcon:f},t.data.name)})})}let et=u.memo(ee);function er(e){let{clientOnlyFilePaths:t,data:r,rootItems:o,setRootItems:n,fetchError:a,processingTime:l,loading:s,onRenderRow:d,getItemUrl:c,getFileTrailingVisual:f,getFileIcon:h,sortDirectoryItems:m}=e,{knownFolders:p,dispatchKnownFolders:y}=(0,u.useContext)(L),{refreshTree:g}=U();u.useEffect(()=>{if(s)return;let e=new Map,t=[];g?.current||(e=new Map(p),t=o.slice());let{newRootItems:i,rootItemsUpdated:a}=V(r,e,t,m);(i.length>o.length||a||g?.current)&&n(i),(e.size>p.size||g?.current)&&y({type:"set",folders:e,processingTime:l}),g?.current&&(g.current=!1)},[r,s]);let x=u.useCallback(e=>{1===e.button&&e.preventDefault()},[]);return(0,i.jsx)(F.A,{onMouseDown:x,sx:{px:3,pb:2,...e.sx},"data-testid":"repos-file-tree-container",children:s?(0,i.jsx)(F.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,i.jsx)(P.A,{"aria-label":"Loading file tree"})}):(0,i.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,i.jsxs)(q.G,{"aria-label":"Files",children:[a&&(0,i.jsx)(ei,{message:"Some files could not be loaded."}),(0,i.jsx)(et,{clientOnlyFilePaths:t,directoryItems:o,onItemSelected:e.onItemSelected,dispatchKnownFolders:y,selectedItemRef:e.selectedItemRef,onRenderRow:d,directoryNavigateOnClick:e.directoryNavigateOnClick,getItemUrl:c,getFileTrailingVisual:f,getFileIcon:h})]})})})}function ei({message:e}){return(0,i.jsxs)(q.G.Item,{id:"error-tree-row",children:[(0,i.jsx)(q.G.LeadingVisual,{children:(0,i.jsx)(M.A,{icon:s.AlertFillIcon,sx:{color:"attention.fg"}})}),(0,i.jsx)(F.A,{sx:{color:"fg.muted"},children:e||"Couldn't load."})]})}try{X.displayName||(X.displayName="WrappedFileTreeRow")}catch{}try{Z.displayName||(Z.displayName="FileTreeRow")}catch{}try{J.displayName||(J.displayName="WrappedDirectoryTreeRow")}catch{}try{Q.displayName||(Q.displayName="DirectoryTreeRow")}catch{}try{ee.displayName||(ee.displayName="WrappedDirectoryContents")}catch{}try{et.displayName||(et.displayName="DirectoryContents")}catch{}try{er.displayName||(er.displayName="ReposFileTreeView")}catch{}try{ei.displayName||(ei.displayName="ErrorTreeRow")}catch{}var eo=r(54059);function en({sx:e,onClick:t,textAreaId:r}){let{searchShortcut:a}=(0,n.wk)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.K,{unsafeDisableTooltip:!0,"aria-label":"Search this repository",icon:s.SearchIcon,"data-hotkey":a.hotkey,sx:{color:"fg.subtle",fontSize:14,fontWeight:"normal",flexShrink:0,...e},size:"medium",onClick:e=>{t?.(),(0,eo.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})}}),(0,i.jsx)(o._,{buttonFocusId:r,buttonHotkey:a.hotkey,onButtonClick:()=>{let e=document.getElementById(r);t?.(),(0,eo.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},onlyAddHotkeyScopeButton:!0})]})}try{en.displayName||(en.displayName="SearchButton")}catch{}let ea=C.Gy.xxxlarge;function el({clientOnlyFilePaths:e,collapseTree:t,showTree:r,fileTree:o,treeToggleElement:n,treeToggleRef:a,onItemSelected:d,processingTime:c,searchBoxRef:f,repo:h,path:m,refInfo:k,isFilePath:D,foldersToFetch:B,id:W,onFindFilesShortcut:_,textAreaId:q,getItemUrlOverride:P,headerSx:O,paneSx:$,paneContentsSx:U,treeContainerSx:G,findFileWorkerPath:z,headerContent:K,getFileTrailingVisual:Y,getFileIcon:X,sortDirectoryItems:Z,showFindFile:J=!0,directoryNavigateOnClick:Q=!0,showRefSelectorRow:ee=!0,paneResizable:et=!0}){if(J&&void 0===z)throw Error("findFileWorkerPath must be provided when showFindFile is true");let{openPanel:ei}=(0,b.Ak)(),[eo,el]=u.useState(B.length>0),[ec,eu]=u.useState(!1),ef=u.useRef([]),eh=u.useRef(null),em=u.useRef(!1),ep=u.useRef(!1),ey=u.useRef(null),{query:eg}=(0,x.JS)(),ex=u.useRef(eg);ex.current=eg;let{codeCenterOption:eb}=(0,S.ud)(),ew=u.useRef(ei),[ek]=(0,l.I)(()=>!1,!0,[]),{getItemUrl:ev}=(0,w.Z)(),eN=P||ev,eC=[],eS=new Map,ej=u.useRef(eo);!ej.current&&o&&(eC=V(o,eS,[],Z).newRootItems),ej.current=!0;let[eR,eF]=u.useReducer(es,eS),[eE,eA]=u.useState(eC);u.useEffect(()=>{r&&(!eg||window.innerWidth>=C.Gy.large)||(ey.current=null)},[r,eg]),u.useEffect(()=>{ei&&ew.current!==ei&&window.innerWidth<ea&&t({setPreference:!1}),ew.current=ei},[t,ei]);let eT=u.useCallback(async e=>{let t=ev({contentType:"directory",path:e,name:e});try{let r=await (0,j.lS)(`${t}?noancestors=1`);if(r.ok){let t=await r.json(),i={items:t.payload.tree.items,totalCount:t.payload.tree.totalCount};o[e]=i}else eu(!0)}catch{eu(!0)}ef.current.push(e),ef.current.length===B.length&&el(!1)},[o,B.length,ev]);u.useEffect(()=>{if(B&&!em.current)for(let e of B)eT(e);em.current=!0},[eT,B,eR.size]);let eI=u.useCallback(e=>{r&&(!ex.current||window.innerWidth>=C.Gy.large)&&eh.current&&e&&(0,R.Rt)(e,eh.current,{endMargin:window.innerHeight/2,startMargin:window.innerHeight/2,behavior:"auto"})},[r]),eM=u.useCallback(e=>{e&&ep.current?ep.current=!1:ey.current!==e&&eI(e),ey.current=e},[eI]),eH=u.useCallback(e=>{eh.current=e,window.innerWidth>=ea&&eI(ey.current)},[eI]),eL=u.useCallback(e=>{e&&eI(ey.current)},[eI]),{screenSize:eD}=(0,C.lm)(),eB=!ek&&(ei&&eD<ea||eD<C.Gy.xlarge)&&eD>=C.Gy.large,eW=u.useCallback(()=>{eB||d(),ep.current=!0},[d,eB]),e_=r?{}:{display:"none"},eq=D?m.substring(0,m.lastIndexOf("/")):m,eP=(0,u.useMemo)(()=>({knownFolders:eR,dispatchKnownFolders:eF}),[eR]),eO=u.useMemo(()=>ek?null:(0,H.KF)(),[ek]),e$=u.useCallback(()=>{window.innerWidth>C.Gy.large&&window.innerWidth<C.Gy.xxxxlarge&&t({setPreference:!1})},[t]),eU=(0,i.jsxs)(F.A,{id:W,sx:{maxHeight:"100%",height:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 768px)":ek?{display:"none"}:void 0,"@media screen and (min-width: 768px)":{maxHeight:"100vh",height:"100vh"},...U},children:[(0,i.jsxs)(F.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",px:3,pb:2,pt:3,...O},children:[K,ee&&(0,i.jsxs)(F.A,{sx:{mx:4,display:"flex",width:"100%"},children:[(0,i.jsx)(F.A,{sx:{flexGrow:1},children:(0,i.jsx)(g.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})}),(0,i.jsxs)(F.A,{sx:{ml:2,whiteSpace:"nowrap","&:hover button:not(:hover)":{borderLeftColor:"var(--button-default-borderColor-hover, var(--color-btn-hover-border))"}},children:[k.canEdit&&(0,i.jsx)(E.m,{text:"Add file","aria-label":"Add file",direction:"s",children:(0,i.jsx)(A.K,{unsafeDisableTooltip:!0,"aria-label":"Add file",as:N.N,sx:{color:"fg.subtle",borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:0},icon:s.PlusIcon,to:(0,v.IO9)({repo:h,path:eq,commitish:k.name,action:"new"}),onClick:eW})}),(0,i.jsx)(en,{sx:k.canEdit?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:void 0,onClick:e$,textAreaId:q})]})]})]}),k.currentOid&&J&&z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.default,{commitOid:k.currentOid,findFileWorkerPath:z,onItemSelected:d,searchBoxRef:f,sx:{ml:3,mr:3,mb:"12px","@media screen and (max-width: 768px)":ek?{display:"none"}:void 0}}),(0,i.jsx)(p,{inputRef:f,onFindFilesShortcut:_,textAreaId:q})]}),(0,i.jsx)(ed,{scrollingRef:eh}),(0,i.jsxs)(F.A,{ref:eH,sx:{flexGrow:1,maxHeight:"100% !important",overflowY:"auto","@media screen and (max-width: 768px)":ek?{display:"none"}:void 0,scrollbarGutter:"stable"},children:[ek?k.currentOid&&(0,i.jsx)("div",{className:eg?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,i.jsx)(er,{clientOnlyFilePaths:e,data:o,rootItems:eE,selectedItemRef:eM,setRootItems:eA,onItemSelected:eW,processingTime:c,loading:eo,fetchError:ec,directoryNavigateOnClick:Q,getItemUrl:eN,sx:G,getFileTrailingVisual:Y,getFileIcon:X,sortDirectoryItems:Z})}):eO&&(0,i.jsx)(H.bL,{node:eO}),!k.currentOid&&!h.isEmpty&&(0,i.jsxs)(F.A,{sx:{mt:2,mx:4,mb:"12px",fontSize:1,alignItems:"center",color:"danger.fg"},children:[(0,i.jsx)(M.A,{icon:s.AlertFillIcon}),"\xa0Ref is invalid"]})]})]}),eG=eB||ei?{"@media print, screen and (max-width: 1349px) and (min-width: 768px)":{display:"none"}}:{"@media print, screen and (max-width: 1011px) and (min-width: 768px)":{display:"none"}};return(0,i.jsxs)(L.Provider,{value:eP,children:[eO&&(0,i.jsx)(H.oj,{node:eO,children:k.currentOid&&(0,i.jsx)("div",{className:eg?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,i.jsx)(er,{clientOnlyFilePaths:e,data:o,directoryNavigateOnClick:Q,rootItems:eE,selectedItemRef:eM,setRootItems:eA,onItemSelected:eW,processingTime:c,loading:eo,fetchError:ec,getItemUrl:eN,sx:G,getFileTrailingVisual:Y,getFileIcon:X,sortDirectoryItems:Z})})}),!r&&eb.enabled&&n&&(0,i.jsx)(F.A,{sx:{position:"absolute",p:3,display:"none","@media screen and (min-width: 1360px)":{display:"block"}},children:n}),(0,i.jsx)(T.O7.Pane,{position:"start",sticky:!0,sx:{minWidth:0,...e_,"@media screen and (min-width: 768px)":{height:"100vh",maxHeight:"100vh !important"},...eG,...$},padding:"none",width:"large",resizable:!!et,widthStorageKey:"codeView.tree-pane-width",divider:{regular:"none",narrow:"none"},children:r&&!eB&&(0,i.jsx)("div",{className:ek?ei?"react-tree-pane-contents-3-panel":"react-tree-pane-contents":void 0,children:eU})}),r&&eB&&ew.current===ei&&(0,i.jsx)(I.Ay,{className:ek?ei?"react-tree-pane-overlay-3-panel":"react-tree-pane-overlay":void 0,ref:eL,returnFocusRef:a,onClickOutside:e$,onEscape:e$,top:0,position:"fixed",sx:{...e_,width:"440px",height:"100vh",maxHeight:"100vh",borderTopLeftRadius:0,borderBottomLeftRadius:0},children:(0,i.jsx)(i.Fragment,{children:eU})})]})}function es(e,t){switch(t.type){case"set":{let r=e?.size>0;return(0,k.BI)("file-tree",{"fetch-count":r?t.folders.size-e.size:t.folders.size,"file-count":t.folders.size,"nav-type":r?"soft":"hard","processing-time":t.processingTime}),t.folders}case"add":{let r=new Map([...e,...t.folders]);return(0,k.BI)("file-tree",{"fetch-count":t.folders.size,"file-count":r.size,"nav-type":"fetch","processing-time":t.processingTime}),r}default:throw Error(`Unknown action type: ${t.type}`)}}function ed({scrollingRef:e}){let[t,r]=u.useState(e.current&&e.current.scrollTop>0);return u.useEffect(()=>{if(e.current){let t=e.current,i=()=>{t&&t.scrollTop>0?r(!0):r(!1)};return t.addEventListener("scroll",i),()=>{t.removeEventListener("scroll",i)}}},[e]),t?(0,i.jsx)(F.A,{sx:{borderBottom:"1px solid",borderColor:"border.default",boxShadow:"0 3px 8px rgba(0, 0, 0, 0.3)"}}):null}try{el.displayName||(el.displayName="ReposFileTreePane")}catch{}try{ed.displayName||(ed.displayName="TreeBorder")}catch{}var ec=r(76483),eu=r(15331),ef=r(55991),eh=r(89539),em=r(35967),ep=r(84217);function ey(e,t,r,o,n,a="fileTreeExpanded",l){let{sendRepoClickEvent:s}=(0,m.T)(),d=(0,ef.i)(),c=a?(0,eu.Ri)(a):void 0,f=!(void 0!==eh.XC),p=!d&&c&&"false"!==c.value||d&&r;void 0===p&&(p=!1);let y=(0,u.useRef)(null),g=(0,u.useRef)(null),{screenSize:x}=(0,C.lm)(),[b,w]=(0,u.useState)(p),k=(0,u.useRef)(p),v=(0,u.useRef)(!1),N=(0,u.useRef)(!1),S=(0,u.useCallback)(()=>!(t.current&&window.innerWidth>=ea||!t.current&&window.innerWidth>=C.Gy.xlarge),[t]);(0,em.N)(()=>{let e=S();e||(v.current=!1),w((0,ec.q)()&&x<C.Gy.large&&!N.current||(!e||v.current)&&(d&&b||!d&&c?.value!=="false"))},[v,c?.value,x,t,S,d]),(0,em.N)(()=>{let e=!t.current&&window.innerWidth<C.Gy.xlarge,r=!t.current&&window.innerWidth>=C.Gy.xlarge;e&&k.current&&!(0,ec.q)()&&b&&w(!1),r&&k.current&&!b&&w(!0)},[t,x]),(0,em.N)(()=>{let e=t.current&&window.innerWidth<ea,r=t.current&&window.innerWidth>=ea;e&&k.current&&!(0,ec.q)()&&b&&w(!1),r&&k.current&&!b&&w(!0)},[t]);let j=(0,u.useCallback)(e=>{if(w(!0),S()&&(v.current=!0),e?.setPreference&&(n?.(!0),k.current=!0,a)){let e=new Date(Date.now()+2592e6).toUTCString();(0,eu.TV)(a,"true",e)}e?.focus==="toggleButton"?requestAnimationFrame(()=>y.current?.focus()):e?.focus==="search"&&requestAnimationFrame(()=>g.current?.focus())},[a,2592e6,S,n]),R=(0,u.useCallback)(e=>{if(w(!1),v.current=!1,N.current=!0,e?.setPreference&&(n?.(!1),k.current=!1,a)){let e=new Date(Date.now()+2592e6).toUTCString();(0,eu.TV)(a,"false",e)}e?.focus==="toggleButton"&&requestAnimationFrame(()=>y.current?.focus())},[a,2592e6,n]),F=(0,u.useCallback)(e=>e&&window.innerWidth>=ea||!t.current&&window.innerWidth>=C.Gy.xlarge,[t]),E=(0,u.useMemo)(()=>(0,i.jsx)(ep.A,{as:"h2",sx:{display:"flex",fontSize:1},children:(0,i.jsx)(h,{expanded:b,ariaControls:e,onToggleExpanded:()=>{s(b?"FILES_TREE.HIDE":"FILES_TREE.SHOW"),b?R({focus:"toggleButton",setPreference:F(t.current)}):j({focus:"toggleButton",setPreference:F(t.current)})},className:void 0!==c||b||f?void 0:"react-tree-toggle-button-with-indicator",ref:y,textAreaId:o,...l})}),[b,e,c,f,o,l,s,R,F,t,j]);return{isTreeExpanded:b,expandTree:j,collapseTree:R,treeToggleElement:E,treeToggleRef:y,searchBoxRef:g}}},41783:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(96540);function o({focusRowRef:e,mouseRowRef:t}){let[r,o]=i.useState(!1);return i.useEffect(()=>{if(e.current&&t.current){let r=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&o(!0)};e.current.onfocus=()=>{r()},e.current.onblur=()=>{o(!1)},t.current.onmouseenter=()=>{r()},t.current.onmouseleave=()=>{o(!1)}}},[e,t]),r}},28311:(e,t,r)=>{r.d(t,{X:()=>o});var i=r(81115);function o(e){let t=e.join(","),[r]=(0,i.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return r}},4519:(e,t,r)=>{r.d(t,{E:()=>n});var i=r(74848),o=r(89318);function n({children:e}){return(0,o.P)()?(0,i.jsx)(i.Fragment,{children:e}):null}try{n.displayName||(n.displayName="AllShortcutsEnabled")}catch{}},32397:(e,t,r)=>{r.d(t,{_:()=>o});var i=r(74848);function o({buttonFocusId:e,buttonHotkey:t,onButtonClick:r,buttonTestLabel:o,onlyAddHotkeyScopeButton:n}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{hidden:!0,"data-testid":o||"","data-hotkey":t,onClick:r,"data-hotkey-scope":e}),!n&&(0,i.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:r})]})}try{o.displayName||(o.displayName="DuplicateOnKeydownButton")}catch{}},66396:(e,t,r)=>{r.d(t,{R:()=>f});var i=r(74848),o=r(48799),n=r(93743),a=r(25370),l=r(67819),s=r(96540),d=r(81729),c=r(3708),u=r(14169);function f({size:e,buttonClassName:t,allowResizing:r,idEnding:f}){let h=(0,o.t)(),{refInfo:m,path:p,action:y}=(0,d.eu)(),g=function(){let{addToast:e}=(0,l.Y6)();return(0,s.useCallback)(t=>e({type:"error",message:t}),[e])}(),{sendRepoClickEvent:x}=(0,u.T)(),{refSelectorShortcut:b}=(0,c.wk)();return(0,i.jsx)(a.PI,{currentCommitish:m.name,defaultBranch:h.defaultBranch,owner:h.ownerLogin,repo:h.name,canCreate:h.currentUserCanPush,cacheKey:m.listCacheKey,selectedRefType:m.refType,getHref:e=>`${(0,n.IO9)({repo:h,commitish:e,action:y,path:p})}${window.location.search}`,hotKey:b.hotkey,onBeforeCreate:e=>x("REF_SELECTOR_MENU.CREATE_BRANCH",{ref_name:e}),onCreateError:g,onOpenChange:e=>e&&x("REF_SELECTOR_MENU"),size:e,buttonClassName:t,allowResizing:r,idEnding:f||"repos-header-ref-selector",useFocusZone:!0})}try{f.displayName||(f.displayName="ReposHeaderRefSelector")}catch{}},29829:(e,t,r)=>{r.r(t),r.d(t,{FileResultRow:()=>W,default:()=>D});var i=r(74848),o=r(57463),n=r(81729),a=r(14169),l=r(86181),s=r(48799),d=r(94123),c=r(93743),u=r(15091),f=r(13619),h=r(72731),m=r(69676),p=r(38621),y=r(82678),g=r(75177),x=r(65481),b=r(8338),w=r(34614),k=r(85349),v=r(30595),N=r(30729),C=r(91385),S=r(96540),j=r(66256),R=r(5225);let F=(0,R.A)(C.fN);function E({data:e}){let{query:t,baseList:r,startTime:i}=e,o=t.replaceAll("\\","");return{query:t,list:r.filter(e=>""===o||(0,C.qA)(o,e)&&F(o,e)>0).sort((e,t)=>F(o,t)-F(o,e)),baseCount:r.length,startTime:i}}var A=r(76483),T=r(80171);async function I(e){let t=await (0,T.lS)(e);return t.ok?await t.json():void 0}let M=new Map,H=(0,R.A)(I,{cache:M}),L={excludeDirectories:!1,excludeSeeAllResults:!1};function D({actionListSx:e,additionalResults:t,commitOid:r,config:u=L,findFileWorkerPath:p,getItemUrl:v,onRenderRow:N,onItemSelected:C,searchBoxRef:R,sx:F}){let{excludeDirectories:T,excludeSeeAllResults:I}=u,{query:M,setQuery:D}=(0,o.JS)(),W=(0,s.t)(),_=S.useRef(null),q=R??_,[O,$]=S.useState(M.length>0),[U,G]=S.useState(!!M),{list:z,directories:K,loading:V,error:Y}=function(e,t,r){let i=(0,s.t)(),[o,n]=(0,S.useState)({list:[],directories:[],loading:!0}),a=(0,c.ClY)({repo:i,commitOid:e,includeDirectories:!r});return(0,S.useEffect)(()=>{let e=!1,r=async()=>{n({list:[],directories:[],loading:!0});let t=await H(a);if(e)return;let r=t?.paths||[],i=t?.directories||[];n({list:r.concat(i).sort(),directories:i,error:!t})};return t&&r(),function(){e=!0}},[a,t,r]),o}(r,O,!!T),{path:X}=(0,n.eu)(),{getUrl:Z}=(0,l.Z)(),{queryText:J,queryLine:Q}=function(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(M),{matches:ee,clearMatches:et}=function(e,t,r,i){let[o,n]=S.useState(),l=S.useRef(""),s=S.useRef(),{sendStats:d}=(0,a.T)(),c=S.useRef(!1),u=S.useCallback(()=>{let e=new j.z(r,E);e.onmessage=({data:e})=>{c.current=!1,n(e.list),l.current=e.query,e.startTime&&d("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},s.current=e},[d,r]);return S.useEffect(()=>{if(i)return u(),function(){s.current?.terminate()}},[u,i]),S.useEffect(()=>{if(e.length&&t){c.current&&(s.current?.terminate(),u());let r=l.current&&t.startsWith(l.current);c.current=!0,s.current?.postMessage({baseList:r&&o||e,query:t,startTime:performance.now()})}},[e,t,u]),{matches:o,clearMatches:()=>n(void 0)}}((0,S.useMemo)(()=>[...z,...t??[]].sort(),[t,z]),J,p,O),{sendRepoClickEvent:er}=(0,a.T)(),ei=(0,h.Z)(),[eo,en]=S.useState(0),[ea,el]=S.useState(()=>(0,A.q)()),es=S.useRef(null),ed=S.useRef(null),ec="file-results-list",{sendRepoKeyDownEvent:eu}=(0,a.T)(),{screenSize:ef}=(0,f.lm)(),eh=u.enableOverlay??ef>=f.Gy.large,em=S.useCallback(e=>{er("FILE_TREE.SEARCH_RESULT_CLICK"),C?.(e),G(!1)},[er,C]),ep=(e,t,r)=>v?v(e,t,r):Z({path:e,action:t?"tree":"blob",hash:r}),{containerRef:ey}=(0,y.G)({bindKeys:m.z0.ArrowVertical|m.z0.HomeAndEnd,focusInStrategy:"previous"},[V,Y]);S.useEffect(()=>{M||G(!1)},[M]),S.useEffect(()=>{document.activeElement!==q.current&&eh&&G(!1)},[X,q,eh]);let eg=ee?.slice(0,40)||[],ex=ee&&ee.length>eg.length,eb=(0,i.jsx)(g.A,{sx:{maxHeight:eh?"60vh":"100% !important",overflowY:"auto",scrollbarGutter:"stable",maxWidth:"100vw","@media (max-width: 768px)":{ml:3,mr:2}},children:Y?(0,i.jsx)(x.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,i.jsxs)(b.l,{ref:ey,sx:{overflow:"auto",p:eh?2:3,width:"100%",pr:eh?3:0,pt:eh?3:"2px !important",...e},role:"listbox",children:[!V&&eg.map((e,t)=>{let r=K.includes(e),o=ep(e,r,Q?`L${Q}`:"");return(0,i.jsx)(P,{active:e===X,index:t,focused:ea&&eo===t,match:e,onRender:N,query:J,onClick:em,isDirectory:r,to:o,useOverlay:eh,listRef:ey},e)}),(0,i.jsxs)("div",{className:"m-3 text-center",children:[(0,i.jsx)(B,{loading:V||!ee,visibleResultCount:eg.length,truncated:!!ex}),ex&&!I&&(0,i.jsxs)(i.Fragment,{children:["\xa0",(0,i.jsx)(w.A,{id:"see-all-results-link",className:"focus-visible",ref:es,href:(0,c.Y8Y)({owner:W.ownerLogin,repo:W.name,searchTerm:`path:${J}`}),sx:ea&&eo===eg.length?{outline:"2px solid var(--focus-outlineColor, var(--color-accent-fg))",outlineOffset:"-2px",boxShadow:"none"}:{},children:"See all results"})]})]})]})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.A,{ref:ed,sx:{mx:2,...F},children:(0,i.jsx)(A.Z,{ariaActiveDescendant:(!eh&&M||eh&&U)&&ea&&eo>-1?ex&&eo===eg.length?"see-all-results-link":`file-result-${eo}`:void 0,ariaExpanded:eh?U:void 0,ariaHasPopup:eh,ariaControls:eh?ec:void 0,ref:q,query:M,onKeyDown:e=>{let{key:t,shiftKey:r,metaKey:i,altKey:o,ctrlKey:n}=e;if(!r&&!i&&!o){if("Escape"===t)M?(eu("FILE_TREE.CANCEL_SEARCH"),D(""),et()):document.activeElement&&document.activeElement.blur();else if(!M)return;else if("Enter"===t){if(!I&&ex&&eo===eg.length)ei((0,c.Y8Y)({owner:W.ownerLogin,repo:W.name,searchTerm:`path:${J}`})),C?.();else if(eg[eo]){let e=eg[eo];ei(ep(eg[eo],!1,Q?`L${Q}`:"")),G(!1),C?.(e)}}else if("ArrowDown"===t||n&&"n"===t){if(!I&&ex&&eo>=eg.length-1){if(en(eg.length),es.current&&ey.current){let e=(0,d.U)(ey.current);(0,m.Rt)(es.current,e,{behavior:"instant"})}}else en(Math.min(eo+1,eg.length-1));e.preventDefault();return}else if("ArrowUp"===t||n&&"p"===t){en(Math.max(eo-1,0)),e.preventDefault();return}}},onPreload:()=>$(!0),onSearch:e=>{D(e),e?G(!0):(et(),G(!1)),en(0)},onBlur:e=>{ey.current?.contains(e.relatedTarget)||(G(!1),el(!1))},onFocus:()=>{M&&G(!0),el(!0)},sx:{minWidth:"160px"}})}),eh&&(0,i.jsx)(k.T,{anchorRef:ed,open:eh&&U,renderAnchor:null,onClose:()=>{G(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:ec,role:"dialog"},children:eb}),!eh&&M&&eb]})}function B({visibleResultCount:e,truncated:t,loading:r}){return(0,i.jsx)("span",{role:"status",className:r||t||0===e?void 0:"sr-only","aria-label":r?"Loading":void 0,children:r?(0,i.jsx)(v.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let W=({active:e,focused:t,index:r,match:o,query:n,to:a,isDirectory:l,onClick:s,onRender:c,useOverlay:f,listRef:h})=>{let p=(0,C.Xq)(n,o);c?.();let y=S.useRef(null),x=l?_:q;S.useEffect(()=>{if(t&&y.current&&h?.current){let e=(0,d.U)(h.current);(0,m.Rt)(y.current,e,{behavior:"instant"})}},[t,h]);let w={};t&&(w={outline:"none",border:"2 solid",boxShadow:"0 0 0 2px #0969da"});let k=(0,S.useCallback)(()=>{s?.(o)},[o,s]);return(0,i.jsx)(b.l.Item,{id:`file-result-${r}`,ref:y,as:u.N,onSelect:k,to:a,active:e,sx:{fontWeight:"normal",":hover":{textDecoration:"none"},mx:"2px",width:"calc(100% - 4px)",...w},role:"option","data-focus-visible-added":t||void 0,tabIndex:f?-1:0,children:(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,i.jsx)(O,{text:o,positionsList:p,sx:{color:"fg.muted"},LeadingIcon:x})}),t&&(0,i.jsx)(g.A,{sx:{pl:1,whiteSpace:"nowrap",color:"fg.muted"},children:`Go to ${l?"folder":"file"}`})]})},o)},_=()=>(0,i.jsx)(N.A,{"aria-label":"Directory",icon:p.FileDirectoryFillIcon,sx:{color:"var(--treeViewItem-leadingVisual-iconColor-rest, var(--color-icon-directory))",mr:2},size:"small"}),q=()=>(0,i.jsx)(N.A,{"aria-label":"File",icon:p.FileIcon,className:"fgColor-muted mr-2",size:"small"}),P=S.memo(W);function O({text:e,positionsList:t,sx:r,LeadingIcon:o}){let n=[],a=0;for(let r of t){if(Number(r)!==r||r<a||r>e.length)continue;let t=e.slice(a,r);t&&n.push($(t)),a=r+1,n.push((0,i.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[r]},r))}return n.push($(e.slice(a))),(0,i.jsx)(g.A,{sx:r,children:(0,i.jsxs)(i.Fragment,{children:[o&&(0,i.jsx)(o,{}),n]})})}function $(e){return e.replaceAll("/","/\u200B")}try{D.displayName||(D.displayName="FileResultsList")}catch{}try{B.displayName||(B.displayName="FileResultsStatus")}catch{}try{W.displayName||(W.displayName="FileResultRow")}catch{}try{_.displayName||(_.displayName="DirectoryIcon")}catch{}try{q.displayName||(q.displayName="FileResultIcon")}catch{}try{P.displayName||(P.displayName="MemoizedFileResultRow")}catch{}try{O.displayName||(O.displayName="HighlightMatch")}catch{}},76483:(e,t,r)=>{r.d(t,{Z:()=>f,q:()=>h});var i=r(74848),o=r(70170),n=r(4519),a=r(14169),l=r(89539),s=r(38621),d=r(67138),c=r(75177),u=r(96540);let f=u.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:r,ariaHasPopup:l,onBlur:f,onFocus:m,onKeyDown:p,onPreload:y,onSearch:g,query:x,sx:b},w)=>{let{sendRepoClickEvent:k}=(0,a.T)(),[v,N]=u.useState(x),C=u.useRef((0,o.s)(e=>g(e),250));u.useEffect(()=>{N(x)},[x]);let S=x?(0,i.jsx)(d.A.Action,{onClick:()=>{k("FILE_TREE.CANCEL_SEARCH"),g("")},icon:s.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,i.jsx)(d.A,{autoFocus:h(),ref:w,value:v,onKeyDown:p,onChange:e=>{N(e.target.value),y(),C.current(e.target.value)},sx:{display:"flex",...b},"aria-label":"Go to file","aria-activedescendant":e,role:l?"combobox":void 0,"aria-controls":t,"aria-expanded":r,"aria-haspopup":l?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:s.SearchIcon,trailingAction:S,trailingVisual:S?void 0:()=>(0,i.jsx)(n.E,{children:(0,i.jsx)(c.A,{sx:{mr:"-6px"},children:(0,i.jsx)("kbd",{children:"t"})})}),onFocus:e=>{y(),e.target.select(),m?.(e)},onBlur:f,onClick:()=>k("FILE_TREE.SEARCH_BOX")})});function h(){return"1"===new URLSearchParams(l.fV.search).get("search")}f.displayName="FilesSearchBox"},89318:(e,t,r)=>{r.d(t,{$:()=>a,P:()=>l});var i=r(74848),o=r(96540);let n=o.createContext(!0);function a({allShortcutsEnabled:e,children:t}){return(0,i.jsxs)(n.Provider,{value:e,children:[" ",t," "]})}function l(){return o.useContext(n)}try{n.displayName||(n.displayName="AllShortcutsEnabledContext")}catch{}try{a.displayName||(a.displayName="AllShortcutsEnabledProvider")}catch{}},57463:(e,t,r)=>{r.d(t,{Ck:()=>l,JS:()=>a});var i=r(74848),o=r(96540);let n=(0,o.createContext)({query:"",setQuery:()=>void 0});function a(){return(0,o.useContext)(n)}function l({children:e}){let[t,r]=(0,o.useState)(""),a=(0,o.useMemo)(()=>({query:t,setQuery:r}),[r,t]);return(0,i.jsx)(n.Provider,{value:a,children:e})}try{n.displayName||(n.displayName="FileQueryContext")}catch{}try{l.displayName||(l.displayName="FileQueryProvider")}catch{}},81729:(e,t,r)=>{r.d(t,{eu:()=>s,qV:()=>l,sq:()=>d});var i=r(74848),o=r(27010),n=r(96540);let a=n.createContext({});function l({children:e,...t}){return(0,i.jsx)(a.Provider,{value:t,children:e})}function s(){return n.useContext(a)}function d(){return(0,o.X)()}try{a.displayName||(a.displayName="FilesPageInfoContext")}catch{}try{l.displayName||(l.displayName="FilesPageInfoProvider")}catch{}},47431:(e,t,r)=>{r.d(t,{Ak:()=>f,cD:()=>u,iK:()=>c});var i=r(74848),o=r(98073),n=r(55991),a=r(46763),l=r(13619),s=r(96540);let d=(0,a.A)("localStorage"),c=(0,s.createContext)({openPanel:void 0,setOpenPanel:()=>void 0});function u({children:e,payload:t,openPanelRef:r}){let a="blame"in t,u=(0,o.Hf)(t),f=(0,n.i)(),h=(0,s.useRef)(void 0),[m,p]=(0,s.useState)(()=>{let e=d.getItem("codeNavOpen");if(!f&&""!==e&&null!==e||f&&t.symbolsExpanded)return"codeNav"}),y=(a||u)&&"codeNav"===m?void 0:m;s.useEffect(()=>{r.current=y},[y,r]);let g=(0,s.useCallback)((e,t)=>{p(r=>(r&&h.current&&h.current.focus(),h.current=t,a||u&&"codeNav"===e?void 0:e))},[a,u]);!function(e){let{screenSize:t}=(0,l.lm)(),r=(0,s.useRef)(t);(0,s.useEffect)(()=>{let i=r.current>=l.Gy.large,o=r.current===t;t<l.Gy.large&&(i||o)&&e(void 0),r.current=t},[t,e])}(g);let x=(0,s.useMemo)(()=>({openPanel:y,setOpenPanel:g}),[y,g]);return(0,i.jsx)(c.Provider,{value:x,children:e})}function f(){return(0,s.useContext)(c)}try{c.displayName||(c.displayName="OpenPanelContext")}catch{}try{u.displayName||(u.displayName="OpenPanelProvider")}catch{}},78293:(e,t,r)=>{r.d(t,{u:()=>a});var i=r(74848),o=r(20053);let n={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function a({squares:e}){return(0,i.jsx)("div",{className:"d-flex",children:e.map((e,t)=>(0,i.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,o.$)(n.diffSquare,n[e])},t))})}try{a.displayName||(a.displayName="DiffSquares")}catch{}},76193:(e,t,r)=>{r.d(t,{z:()=>l});var i=r(74848),o=r(94977),n=r(78293);let a={addition:"addition",deletion:"deletion",neutral:"neutral"};function l({linesAdded:e=0,linesDeleted:t=0,linesChanged:r=0,tooltipDirection:l}){if(!e&&!t&&!r||0===r)return null;let{greenSquares:s,redSquares:d,graySquares:c}=function(e,t,r){let i=r>5?5/r:1,o=Math.floor(e*i),n=Math.floor(t*i);return{greenSquares:o,redSquares:n,graySquares:5-o-n}}(e,t,r),u=[...Array(s).fill(a.addition),...Array(d).fill(a.deletion),...Array(c).fill(a.neutral)];return(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[e>0&&(0,i.jsxs)("span",{className:"f6 text-bold fgColor-success",children:["+",e.toLocaleString()]}),t>0&&(0,i.jsxs)("span",{className:"f6 text-bold fgColor-danger",children:["-",t.toLocaleString()]}),(0,i.jsx)(o.A,{"aria-label":function({linesAdded:e,linesChanged:t,linesDeleted:r}){return`${t} ${1===t?"change":"changes"}: ${e} ${1===e?"addition":"additions"} & ${r} ${1===r?"deletion":"deletions"}`}({linesAdded:e,linesChanged:r,linesDeleted:t}),direction:l??"e",children:(0,i.jsx)(n.u,{squares:u})})]})}try{l.displayName||(l.displayName="DiffStats")}catch{}},99793:(e,t,r)=>{r.d(t,{L:()=>s});var i=r(74848),o=r(38621),n=r(87330),a=r(94977),l=r(20053);let s=r(96540).forwardRef(({expanded:e,testid:t,ariaLabel:r,ariaControls:s,onToggleExpanded:d,alignment:c,dataHotkey:u,className:f,tooltipDirection:h,variant:m},p)=>(0,i.jsx)(a.A,{"aria-label":r,id:`expand-button-${t}`,direction:h,children:(0,i.jsx)(n.K,{unsafeDisableTooltip:!0,ref:p,"data-testid":e?`collapse-${t}`:`expand-${t}`,"aria-labelledby":`expand-button-${t}`,"aria-expanded":e,"aria-controls":s,icon:e?"left"===c?o.SidebarExpandIcon:o.SidebarCollapseIcon:"left"===c?o.SidebarCollapseIcon:o.SidebarExpandIcon,"data-hotkey":u,onClick:e=>{d(e)},variant:m??"invisible",className:(0,l.$)(f,"fgColor-muted")})}));s.displayName="ExpandButton"},17039:(e,t,r)=>{r.d(t,{c9:()=>w,_$:()=>x,iU:()=>b,tV:()=>g});var i=r(74848),o=r(55847),n=r(34614),a=r(30729),l=r(38621),s=r(48229),d=r(36619),c=r(96540),u=r(67819),f=r(80171);let h=async(e,t,r)=>{try{return(await (0,f.DI)(e,{method:t,body:r})).ok}catch{return!1}},m=(e,t)=>h(e,"DELETE",y(t)),p=(e,t)=>h(e,"POST",y(t)),y=e=>{let t=new FormData;return t.append("feature",e),t};function g(e){let{alreadyRequested:t=!1,dismissed:r=!1,dismissedAt:i="",featureName:o="",requestPath:n=""}=e??{},[a,l]=(0,c.useState)(!1),[s,d]=(0,c.useState)(t),{addToast:f}=(0,u.Y6)(),h=async()=>{l(!0),await (s?m:p)(n,o)?d(!s):f({type:"error",message:"Something went wrong. Please try again later."}),l(!1)};return{inProgress:a,requested:s,dismissed:r,dismissedAt:i,toggleFeatureRequest:h}}function x({featureRequestInfo:e,learnMorePath:t,requestMessage:r,requestedMessage:o}){let{inProgress:n,requested:a,toggleFeatureRequest:l}=g(e);return e.showFeatureRequest?a?(0,i.jsx)(w,{inProgress:n,toggleFeatureRequest:l,requestedMessage:o}):(0,i.jsx)(b,{inProgress:n,toggleFeatureRequest:l,isEnterpriseRequest:e.isEnterpriseRequest,featureName:e.featureName,billingEntityId:e.billingEntityId,learnMorePath:t,requestMessage:r}):null}let b=({inProgress:e,toggleFeatureRequest:t,billingEntityId:r="",isEnterpriseRequest:o=!1,featureName:n,learnMorePath:a,requestMessage:l})=>{let{sendClickAnalyticsEvent:s}=(0,d.S)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k,{onClick:()=>{t();let e=o&&r?`ref_cta:ask_enterprise_owners_for_access;ref_loc:${n};enterprise_id:${r};`:`ref_cta:ask_admin_for_access;ref_loc:${n};`;s({category:"member_feature_request",action:`action.${n}`,label:e})},inProgress:e,isEnterpriseRequest:o}),l&&(0,i.jsx)(N,{message:l}),a&&(0,i.jsx)(v,{onClick:()=>{s({category:"suggestion",action:"click_to_read_docs",label:`ref_cta:learn_more;ref_loc:${n};`})},path:a})]})},w=({inProgress:e,toggleFeatureRequest:t,requestedMessage:r})=>(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)(C,{message:r}),(0,i.jsx)(S,{onClick:t,inProgress:e})]}),k=({onClick:e,inProgress:t,isEnterpriseRequest:r})=>(0,i.jsx)(o.Q,{onClick:e,variant:"primary",disabled:t,...(0,s.G)("feature-request-request-button"),children:t?"Requesting...":r?"Ask enterprise owners for access":"Ask admin for access"}),v=({onClick:e,path:t})=>(0,i.jsx)(n.A,{href:t,onClick:e,...(0,s.G)("feature-request-learn-more-link"),children:"Learn more"}),N=({message:e})=>(0,i.jsx)("span",{children:e}),C=({message:e})=>(0,i.jsxs)("span",{className:"d-inline-block color-fg-subtle mr-1",children:[(0,i.jsx)(a.A,{icon:l.CheckIcon}),e]}),S=({onClick:e,inProgress:t})=>(0,i.jsx)(n.A,{className:"color-fg-danger text-semibold",as:"button",onClick:e,disabled:t,...(0,s.G)("feature-request-cancel-link"),children:t?"Cancelling...":"Remove request"});try{x.displayName||(x.displayName="FeatureRequest")}catch{}try{b.displayName||(b.displayName="RequestFeature")}catch{}try{w.displayName||(w.displayName="CancelFeatureRequest")}catch{}try{k.displayName||(k.displayName="RequestCTA")}catch{}try{v.displayName||(v.displayName="LearnMore")}catch{}try{N.displayName||(N.displayName="RequestMessage")}catch{}try{C.displayName||(C.displayName="RequestedMessage")}catch{}try{S.displayName||(S.displayName="RemoveRequestCTA")}catch{}},57135:(e,t,r)=>{r.d(t,{Y:()=>h});var i=r(74848),o=r(59299),n=r(44999),a=r(16255),l=r(20053),s=r(96540);let d=r(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-fd0a7f7c-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,o.Jt)("fonts.normal"),(0,o.Jt)("colors.fg.onEmphasis"),(0,o.Jt)("colors.neutral.emphasisPlus"),(0,o.Jt)("radii.2"),(0,o.Jt)("space.3"),(0,o.Jt)("space.3"),(0,o.Jt)("space.3"),(0,o.Jt)("space.3"),n.A),c=()=>()=>void 0,u=()=>!1,f=()=>!0,h=(0,s.forwardRef)(function({direction:e="n",className:t,text:r,noDelay:o,align:n,wrap:h,open:m=!1,portalProps:p={},...y},g){let x=(0,s.useSyncExternalStore)(c,f,u),b=(0,l.$)(t,`tooltipped-${e}`,n&&`tooltipped-align-${n}-2`,o&&"tooltipped-no-delay",h&&"tooltipped-multiline",m&&"tooltipped-open");return x?(0,i.jsx)(a.Z,{...p,children:(0,i.jsx)(d,{ref:g,role:"tooltip","aria-label":r,"data-visible-text":r||y["aria-label"],...y,sx:{position:"fixed",zIndex:1,...y.sx},className:b})}):null});try{h.displayName||(h.displayName="ControlledTooltip")}catch{}},2583:(e,t,r)=>{r.d(t,{m:()=>s});var i=r(74848),o=r(69676),n=r(96540),a=r(57135),l=r(94123);let s=(0,n.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:r,anchorSide:s,anchorOffset:d,alignmentOffset:c,allowOutOfBounds:u,...f},h){let m=(0,n.useRef)(null);(0,n.useImperativeHandle)(h,()=>m.current);let p=(0,n.useRef)({left:0,top:0}),y=(0,n.useSyncExternalStore)((0,n.useCallback)(r=>{if(!m.current||!e.current||!t)return()=>void 0;let i=(0,l.U)(e.current);return i?.addEventListener("scroll",r),()=>{i?.removeEventListener("scroll",r)}},[e,t]),(0,n.useCallback)(()=>{if(!m.current||!e.current)return p.current;let t=(0,o.uG)(m.current,e.current,{align:r??"center",side:s??"outside-top",alignmentOffset:c??0,anchorOffset:d??0,allowOutOfBounds:u});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,c,d,r,s,u]),(0,n.useCallback)(()=>p.current,[]));return(0,i.jsx)(a.Y,{...f,ref:m,open:t,style:{position:"absolute",...y,...f.style}})});try{s.displayName||(s.displayName="PortalTooltip")}catch{}},13619:(e,t,r)=>{r.d(t,{Gy:()=>a,LB:()=>c,lm:()=>d,nn:()=>u});var i=r(74848),o=r(70170),n=r(96540);let a={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},l=[a.xxxxlarge,a.xxxlarge,a.xxlarge,a.xlarge,a.large,a.medium,a.small],s=n.createContext({screenSize:a.small});function d(){return n.useContext(s)}function c({children:e,initialValue:t}){let r=(0,n.useSyncExternalStore)(()=>()=>{},()=>t??u(window.innerWidth),()=>t??a.small),l=(0,n.useRef)(r),[d,c]=(0,n.useState)(r),f=(0,n.useCallback)(()=>{let e=u(window.innerWidth);l.current!==e&&(l.current=e,c(e))},[]);(0,n.useEffect)(()=>{let e=new ResizeObserver((0,o.s)(f));return e.observe(document.documentElement),()=>e.disconnect()},[f]);let h=(0,n.useMemo)(()=>({screenSize:d}),[d]);return(0,i.jsx)(s.Provider,{value:h,children:e})}function u(e){for(let t of l)if(e>=t)return t;return a.small}try{s.displayName||(s.displayName="ScreenContext")}catch{}try{c.displayName||(c.displayName="ScreenSizeProvider")}catch{}},63097:(e,t,r)=>{r.d(t,{T2:()=>s,cp:()=>h,ud:()=>p});var i=r(74848),o=r(46763),n=r(96540);let a=(0,o.A)("localStorage"),l="codeView.codeFolding",s="codeView.codeWrapping",d="codeView.centerView",c="codeView.openSymbolsOnClick",u=new Map([[l,"Show code folding buttons"],[s,"Wrap lines"],[d,"Center content"],[c,"Open symbols on click"]]),f=(0,n.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),h=({children:e})=>{let t=m(l,!0),r=m(s,!1),o=m(d,!1),a=m(c,!0),u=(0,n.useMemo)(()=>({codeFoldingOption:t,codeWrappingOption:r,codeCenterOption:o,openSymbolsOption:a}),[t,r,o,a]);return(0,i.jsx)(f.Provider,{value:u,children:e})};function m(e,t){let r=a.getItem(e),[i,o]=(0,n.useState)(()=>r?"true"===r:t),l=u.get(e)||"";return{name:e,enabled:i,setEnabled:o,label:l}}function p(){return(0,n.useContext)(f)}try{f.displayName||(f.displayName="CodeViewOptionsContext")}catch{}try{h.displayName||(h.displayName="CodeViewOptionsProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_utili-34a797-a2fd6d7928ef.js.map